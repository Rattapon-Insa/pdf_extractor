[debug] [2025-01-06T05:12:12.602Z] ----------------------------------------------------------------------
[debug] [2025-01-06T05:12:12.604Z] Command:       /opt/homebrew/Cellar/node/23.2.0_1/bin/node /opt/homebrew/bin/firebase deploy --only functions --debug
[debug] [2025-01-06T05:12:12.605Z] CLI Version:   13.29.1
[debug] [2025-01-06T05:12:12.605Z] Platform:      darwin
[debug] [2025-01-06T05:12:12.605Z] Node Version:  v23.2.0
[debug] [2025-01-06T05:12:12.605Z] Time:          Mon Jan 06 2025 12:12:12 GMT+0700 (Indochina Time)
[debug] [2025-01-06T05:12:12.605Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-01-06T05:12:12.641Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-01-06T05:12:12.641Z] > authorizing via signed-in user (insawangwong.r@gmail.com)
[debug] [2025-01-06T05:12:12.641Z] [iam] checking project document-intel for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-01-06T05:12:12.642Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:12.642Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:12.642Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/document-intel:testIamPermissions [none]
[debug] [2025-01-06T05:12:12.642Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/document-intel:testIamPermissions x-goog-quota-user=projects/document-intel
[debug] [2025-01-06T05:12:12.642Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/document-intel:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-01-06T05:12:13.789Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/document-intel:testIamPermissions 200
[debug] [2025-01-06T05:12:13.790Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/document-intel:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-01-06T05:12:13.790Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:13.790Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:13.790Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/document-intel/serviceAccounts/document-intel@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-01-06T05:12:13.790Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/document-intel/serviceAccounts/document-intel@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-01-06T05:12:15.348Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/document-intel/serviceAccounts/document-intel@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-01-06T05:12:15.349Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/document-intel/serviceAccounts/document-intel@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'document-intel'...
[info] 
[info] i  deploying functions 
[debug] [2025-01-06T05:12:15.354Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.354Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.354Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/document-intel [none]
[debug] [2025-01-06T05:12:15.757Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/document-intel 200
[debug] [2025-01-06T05:12:15.758Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/document-intel {"projectNumber":"50080676245","projectId":"document-intel","lifecycleState":"ACTIVE","name":"document-intel","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-01-06T04:20:31.199035Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.760Z] Checked if tokens are valid: true, expires at: 1736143707077
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-01-06T05:12:15.761Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.761Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:15.762Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudfunctions.googleapis.com [none]
[debug] [2025-01-06T05:12:15.762Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/document-intel
[debug] [2025-01-06T05:12:15.764Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/runtimeconfig.googleapis.com [none]
[debug] [2025-01-06T05:12:15.764Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/document-intel
[debug] [2025-01-06T05:12:15.766Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudbuild.googleapis.com [none]
[debug] [2025-01-06T05:12:15.766Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudbuild.googleapis.com x-goog-quota-user=projects/document-intel
[debug] [2025-01-06T05:12:15.767Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/artifactregistry.googleapis.com [none]
[debug] [2025-01-06T05:12:15.768Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/artifactregistry.googleapis.com x-goog-quota-user=projects/document-intel
[debug] [2025-01-06T05:12:17.218Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudbuild.googleapis.com 200
[debug] [2025-01-06T05:12:17.219Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-01-06T05:12:17.226Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/artifactregistry.googleapis.com 200
[debug] [2025-01-06T05:12:17.226Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-01-06T05:12:17.227Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/runtimeconfig.googleapis.com 200
[debug] [2025-01-06T05:12:17.227Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-01-06T05:12:17.237Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudfunctions.googleapis.com 200
[debug] [2025-01-06T05:12:17.238Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/document-intel/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-01-06T05:12:17.238Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:17.238Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:17.239Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/document-intel/adminSdkConfig [none]
[debug] [2025-01-06T05:12:17.804Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/document-intel/adminSdkConfig 200
[debug] [2025-01-06T05:12:17.804Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/document-intel/adminSdkConfig {"projectId":"document-intel","storageBucket":"document-intel.firebasestorage.app"}
[debug] [2025-01-06T05:12:17.806Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:17.806Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:17.806Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/document-intel/configs [none]
[debug] [2025-01-06T05:12:18.317Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/document-intel/configs 200
[debug] [2025-01-06T05:12:18.317Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/document-intel/configs {}
[debug] [2025-01-06T05:12:18.320Z] Customer code is not Node
[debug] [2025-01-06T05:12:18.320Z] Validating python source
[debug] [2025-01-06T05:12:18.321Z] Building python source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-01-06T05:12:18.322Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-01-06T05:12:18.333Z] Running command with virtualenv: command=., args=["\"/Users/rattapon.ins/side-project/pdf_extractor/functions/venv/bin/activate\"","&&","python3.12","-c","\"import firebase_functions; import os; print(os.path.dirname(firebase_functions.__file__))\""]
[debug] [2025-01-06T05:12:18.400Z] stdout: /Users/rattapon.ins/side-project/pdf_extractor/functions/venv/lib/python3.12/site-packages/firebase_functions

[debug] [2025-01-06T05:12:18.402Z] Running admin server with args: ["python3.12","\"/Users/rattapon.ins/side-project/pdf_extractor/functions/venv/lib/python3.12/site-packages/firebase_functions/private/serving.py\""] and env: {"FIREBASE_CONFIG":"{\"projectId\":\"document-intel\",\"storageBucket\":\"document-intel.firebasestorage.app\"}","GCLOUD_PROJECT":"document-intel","GOOGLE_CLOUD_QUOTA_PROJECT":"document-intel","ADMIN_PORT":"8081"} in /Users/rattapon.ins/side-project/pdf_extractor/functions
[debug] [2025-01-06T05:12:18.403Z] Running command with virtualenv: command=., args=["\"/Users/rattapon.ins/side-project/pdf_extractor/functions/venv/bin/activate\"","&&","python3.12","\"/Users/rattapon.ins/side-project/pdf_extractor/functions/venv/lib/python3.12/site-packages/firebase_functions/private/serving.py\""]
[info]  * Serving Flask app 'serving'
 * Debug mode: off

[error] WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:8081

[error] Press CTRL+C to quit

[error] 127.0.0.1 - - [06/Jan/2025 12:12:19] "GET /__/functions.yaml HTTP/1.1" 200 -

[debug] [2025-01-06T05:12:19.342Z] Got response from /__/functions.yaml endpoints: {}
params: []
requiredAPIs: []
specVersion: v1alpha1

[error] 127.0.0.1 - - [06/Jan/2025 12:12:19] "GET /__/quitquitquit HTTP/1.1" 200 -

[error] /bin/sh: line 1:  1383 Terminated: 15          python3.12 "/Users/rattapon.ins/side-project/pdf_extractor/functions/venv/lib/python3.12/site-packages/firebase_functions/private/serving.py"

[debug] [2025-01-06T05:12:19.352Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:19.352Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:19.352Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/document-intel/locations/-/functions [none]
[debug] [2025-01-06T05:12:20.133Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/document-intel/locations/-/functions 200
[debug] [2025-01-06T05:12:20.134Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/document-intel/locations/-/functions {}
[debug] [2025-01-06T05:12:20.135Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:20.135Z] Checked if tokens are valid: true, expires at: 1736143707077
[debug] [2025-01-06T05:12:20.135Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/document-intel/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-01-06T05:12:20.895Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/document-intel/locations/-/functions 200
[debug] [2025-01-06T05:12:20.896Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/document-intel/locations/-/functions {}
[debug] [2025-01-06T05:12:20.904Z] Total Function Deployment time: 0
[debug] [2025-01-06T05:12:20.905Z] 0 Functions Deployed
[debug] [2025-01-06T05:12:20.905Z] 0 Functions Errored
[debug] [2025-01-06T05:12:20.905Z] 0 Function Deployments Aborted
[debug] [2025-01-06T05:12:20.905Z] Average Function Deployment time: NaN
[info] i  functions: cleaning up build files... 
[info] 
[info] ✔  Deploy complete! 
[info] 
[info] Project Console: https://console.firebase.google.com/project/document-intel/overview
